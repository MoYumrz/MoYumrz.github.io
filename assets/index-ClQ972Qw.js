import{d as v,e as N,u as O,b as T,f as k,w as I,r as M,aK as i,o as y,c as x,a as n,i as t,j as a,k as g,l as p,A as L,R as S,s as R,x as P,aL as A,H as F,I as V,_ as h,J as B}from"./index-DM1-aU-Q.js";import{F as b}from"./Fan-CzI0pRrR.js";import{S as K}from"./Speaker-XAAnZ56h.js";const $={class:"menu"},W={class:"menu-title"},j=v({__name:"Menu",setup(w){N(),O();const c=T();k(()=>{_(),l(),f(),m()}),I(()=>c.path,()=>{_(),l(),f(),m()});const o=M({like:0,follow:0,reply:0,system:0}),l=async()=>{try{const e=await i(["COMMENT_LIKE","POST_LIKE","POST_FAVORITE"]);e.data.code==200&&(o.value.like=e.data.data)}catch(e){console.error(e)}},_=async()=>{try{const e=await i(["FOLLOW"]);e.data.code==200&&(o.value.follow=e.data.data)}catch(e){console.error(e)}},f=async()=>{try{const e=await i(["COMMENT","REPLY"]);e.data.code==200&&(o.value.reply=e.data.data)}catch(e){console.error(e)}},m=async()=>{try{const e=await i(["POST_REVIEW","POST_ACTION","COMMENT_ACTION"]);e.data.code==200&&(o.value.system=e.data.data)}catch(e){console.error(e)}};return(e,s)=>{const E=R,d=P,u=A,r=F,C=V;return y(),x("div",$,[n("div",W,[t(E,{size:"large",tag:"b"},{default:a(()=>s[0]||(s[0]=[g(" 消息中心 ")])),_:1})]),t(C,{"default-active":p(c).fullPath,class:"el-menu-vertical-demo",router:""},{default:a(()=>[t(r,{index:"/notify/reply"},{default:a(()=>[t(d,null,{default:a(()=>[t(p(L))]),_:1}),t(u,{value:o.value.reply,class:"item",max:99,offset:[20,27],hidden:o.value.reply==0},{default:a(()=>s[1]||(s[1]=[n("span",null,"回复我的",-1)])),_:1},8,["value","hidden"])]),_:1}),t(r,{index:"/notify/follow"},{default:a(()=>[t(d,null,{default:a(()=>[t(b)]),_:1}),t(u,{value:o.value.follow,class:"item",max:99,offset:[20,27],hidden:o.value.follow==0},{default:a(()=>s[2]||(s[2]=[n("span",null,"关注我的",-1)])),_:1},8,["value","hidden"])]),_:1}),t(r,{index:"/notify/like"},{default:a(()=>[t(d,null,{default:a(()=>[t(S)]),_:1}),t(u,{value:o.value.like,class:"item",max:99,offset:[20,27],hidden:o.value.like==0},{default:a(()=>s[3]||(s[3]=[n("span",null,"点赞收藏",-1)])),_:1},8,["value","hidden"])]),_:1}),t(r,{index:"/notify/system"},{default:a(()=>[t(d,null,{default:a(()=>[t(K)]),_:1}),t(u,{value:o.value.system,class:"item",max:99,offset:[20,27],hidden:o.value.system==0},{default:a(()=>s[4]||(s[4]=[n("span",null,"系统通知",-1)])),_:1},8,["value","hidden"])]),_:1})]),_:1},8,["default-active"])])}}}),z=h(j,[["__scopeId","data-v-f1f065c1"]]),H={class:"notify"},J={class:"container"},Y={class:"left"},q={class:"right"},D=v({__name:"index",setup(w){return(c,o)=>{const l=B("router-view");return y(),x("div",H,[n("div",J,[n("div",Y,[t(z)]),n("div",q,[t(l)])])])}}}),X=h(D,[["__scopeId","data-v-6a264653"]]);export{X as default};
